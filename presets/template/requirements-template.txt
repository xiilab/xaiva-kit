# =============================================================================
# Runtime Python Dependencies Template
# =============================================================================
#
# 이 파일은 런타임에 필요한 추가 Python 패키지들을 정의합니다.
# requirements-base.txt에 정의된 기본 패키지 외에 필요한 패키지를 여기에 추가합니다.
#
# 사용법:
#   1. 이 파일을 복사: artifacts/<preset-name>/requirements.txt
#   2. PyTorch, TensorRT 버전을 프리셋에 맞게 수정
#   3. 런타임 전용 패키지 추가
#
# 주의사항:
#   - requirements-base.txt의 패키지는 이미 설치되어 있음
#   - 중복 정의 금지 (numpy, scipy 등)
# =============================================================================

# -----------------------------------------------------------------------------
# Core dependencies (version-locked from base)
# -----------------------------------------------------------------------------
numpy==1.23.1
scipy==1.11.4

# -----------------------------------------------------------------------------
# PyTorch ecosystem (CUDA version specific)
# -----------------------------------------------------------------------------
# 중요: CUDA 버전에 맞는 PyTorch 인덱스 URL 사용
--find-links https://download.pytorch.org/whl/torch_stable.html

# PyTorch 2.1.0 + CUDA 11.8 예시:
torch==2.1.0+cu118
torchvision==0.16.0+cu118
torchaudio==2.1.0+cu118

# PyTorch 2.2.0 + CUDA 12.1 예시:
# torch==2.2.0+cu121
# torchvision==0.17.0+cu121
# torchaudio==2.2.0+cu121

# -----------------------------------------------------------------------------
# Data processing and utilities (from base)
# -----------------------------------------------------------------------------
packaging
webcolors
matplotlib
yacs
scikit-learn
scikit-image
torchgeometry
pytz
requests

# -----------------------------------------------------------------------------
# Infrastructure (from base)
# -----------------------------------------------------------------------------
redis
GPUtil

# -----------------------------------------------------------------------------
# Computer vision
# -----------------------------------------------------------------------------
# Note: opencv-python은 제외 (소스에서 CUDA 지원으로 빌드)
# opencv-python

# -----------------------------------------------------------------------------
# Additional utilities (from base)
# -----------------------------------------------------------------------------
gdown

# =============================================================================
# 런타임 전용 패키지 추가 예시
# =============================================================================
#
# 프로덕션 배포용:
#   - gunicorn        # WSGI 서버
#   - uvicorn         # ASGI 서버
#   - fastapi         # API 프레임워크
#   - flask           # 웹 프레임워크
#
# 데이터 처리:
#   - pandas          # 데이터 분석
#   - pyarrow         # Apache Arrow
#   - h5py            # HDF5 파일 처리
#
# 추가 ML 라이브러리:
#   - transformers    # Hugging Face
#   - diffusers       # Stable Diffusion
#   - onnx            # ONNX 모델 포맷
#   - onnxruntime     # ONNX 런타임
#
# 비전 라이브러리:
#   - albumentations  # 데이터 증강
#   - timm            # PyTorch Image Models
#
# 유틸리티:
#   - tqdm            # 진행 표시줄
#   - loguru          # 로깅
#   - python-dotenv   # 환경 변수 관리
# =============================================================================

